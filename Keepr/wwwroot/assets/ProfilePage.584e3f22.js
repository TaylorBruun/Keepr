import{h as K,E as y,G as x,c as r,a as _,o as i,b as n,d as e,t as m,i as g,F as u,s as p,e as V,y as C,z as S,x as h}from"./vendor.abbbe051.js";import{a as f,A as l,_ as F,v as G,P as I,l as B}from"./index.be567430.js";class N{async GetProfile(a){const c=await f.get(`api/profiles/${a}`);l.currentProfile=c.data}async GetProfileKeeps(a){const c=await f.get(`api/profiles/${a}/keeps`);l.currentProfileKeeps=c.data}async GetProfileVaults(a){const c=await f.get(`api/profiles/${a}/vaults`);l.currentProfileVaults=c.data}}const v=new N;const j={setup(){const o=K();return y(()=>l.homeKeeps=[...l.homeKeeps]),y(async()=>{o.params.id;try{o.name=="Profile"&&(await v.GetProfile(o.params.id),await v.GetProfileKeeps(o.params.id),await v.GetProfileVaults(o.params.id),await G.getFirstImagesDictionaryByProfile(o.params.id))}catch(a){I.toast(a,"error"),B.error(a)}}),x(async()=>{}),{route:o,profile:r(()=>l.currentProfile),account:r(()=>l.account),profileKeeps:r(()=>l.currentProfileKeeps),profileVaults:r(()=>l.currentProfileVaults),userVaults:r(()=>l.userVaults)}}},t=o=>(C("data-v-f34b8e38"),o=o(),S(),o),E={class:"component"},A={class:"d-flex justify-content-between"},D=["src"],T={class:"text-break m-4 display-2"},z={class:"d-flex flex-column align-items-end"},L={class:"m-4"},M={class:"m-4"},R=t(()=>e("div",{class:"spacer"},null,-1)),q=t(()=>e("h4",{class:"m-2 p-2"}," Vaults:",-1)),H={class:"container-fluid"},J={class:"row"},O={class:"col-12"},Q={class:"masonry-frame"},U=t(()=>e("h3",null,"Create New Vault",-1)),W=t(()=>e("h6",null,null,-1)),X=t(()=>e("h1",{class:"text-center display-1"},[e("i",{class:"mdi mdi-plus"})],-1)),Y=[U,W,X],Z=t(()=>e("div",{class:"spacer"},null,-1)),$={class:"mb-4"},ee=t(()=>e("h4",{class:"m-2 p-2"}," Keeps:",-1)),se={class:"container-fluid"},te={class:"row"},oe={class:"col-12"},ae={class:"masonry-frame"},le=t(()=>e("h3",null,"Create New Keep",-1)),ie=t(()=>e("h6",null,null,-1)),de=t(()=>e("h1",{class:"text-center display-1"},[e("i",{class:"mdi mdi-plus"})],-1)),ce=[le,ie,de],ne={class:"modal fade",id:"create-vault",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},re={class:"modal-dialog",role:"document"},_e={class:"modal-content"},ue=t(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Create a new Vault"),e("button",{type:"button",title:"Close",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),me={class:"modal-body"},pe=t(()=>e("div",{class:"modal-footer"},null,-1)),he={class:"modal fade",id:"create-keep",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},fe={class:"modal-dialog",role:"document"},ve={class:"modal-content"},be=t(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Create a new Keep"),e("button",{type:"button",title:"Close",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),ye={class:"modal-body"},ge=t(()=>e("div",{class:"modal-footer"},null,-1));function Ve(o,a,c,s,Pe,we){const b=_("Vault"),P=_("Keep"),w=_("VaultForm"),k=_("KeepForm");return i(),n(u,null,[e("div",E,[e("div",A,[e("img",{class:"m-4 profile-img",src:s.profile.picture,alt:""},null,8,D),e("div",null,[e("h2",T,m(s.profile.name),1),e("div",z,[e("h5",L,"Vaults: "+m(s.account.id==s.profile.id?s.userVaults.length:s.profileVaults.length),1),e("h5",M,"Keeps: "+m(s.profileKeeps.length),1)])])]),R,e("div",null,[q,e("div",H,[e("div",J,[e("div",O,[e("div",Q,[s.account.id==s.profile.id?(i(),n("div",{key:0,onClick:a[0]||(a[0]=()=>{}),"data-bs-toggle":"modal","data-bs-target":"#create-vault",class:"new-item p-3 m-3"},Y)):g("",!0),s.profile.id!=s.account.id?(i(!0),n(u,{key:1},p(s.profileVaults,d=>(i(),h(b,{key:d.id,vault:d},null,8,["vault"]))),128)):(i(!0),n(u,{key:2},p(s.userVaults,d=>(i(),h(b,{key:d.id,vault:d},null,8,["vault"]))),128))])])])])]),Z,e("div",$,[ee,e("div",se,[e("div",te,[e("div",oe,[e("div",ae,[s.account.id==s.profile.id?(i(),n("div",{key:0,onClick:a[1]||(a[1]=()=>{}),"data-bs-toggle":"modal","data-bs-target":"#create-keep",class:"new-item p-3 m-3"},ce)):g("",!0),(i(!0),n(u,null,p(s.profileKeeps,d=>(i(),h(P,{key:d.id,keep:d,class:""},null,8,["keep"]))),128))])])])])])]),e("div",ne,[e("div",re,[e("div",_e,[ue,e("div",me,[V(w)]),pe])])]),e("div",he,[e("div",fe,[e("div",ve,[be,e("div",ye,[V(k)]),ge])])])],64)}var xe=F(j,[["render",Ve],["__scopeId","data-v-f34b8e38"]]);export{xe as default};
